
## 前端工程化
```java
主要解决的问题:
  1. 传统语法或语法的弊端
  2. 无法使用模块化/组件化
  3. 重复的机械式工作
  4. 代码风格统一、质量保证
  5. 依赖后端服务接口支持
  6. 整体依赖后端项目
```

- [0. 常用的脚手架工具](#0)
- [1. yeoman](#1)
- [2. plop](#2)
- [3. .cli](#3)
- [4. package.json scripts](#4)
- [5. grunt](#5)
- [6. gulp](#6)
- [7. fis](#7)
--------

#### <div id='0'>0. 脚手架工具</div>
```
通用的脚手架工具:
  yeoman
  plop
专用的脚手架工具:
  vue-cli
  create-react-app
  angular-cli
```

><h2 id='1'>1. yeoman</h2>
```js
`https://yeoman.io/generators/`
可以搭配不同的generators来创建不同的脚手架
1. 全局范围安装`yo`
// yarn global add yo
// npm i yo -g

2. 安装对应的`generator`
// yarn global add generator-node
// npm i generator-node -g 

3. 通过`yo`运行`generator`
// 创建文件夹 mytest
// yo node
```
><h2 id='2'>2. plop</h2>
```js
1. yarn add plop --dev
2. 创建 plopfile.js 导出一个函数,并指定, 输出文件位置
3. 根目录创建一个plop-template文件夹
4. plop下创建 .hbs模板文件
5. 执行命令 yarn plop component
 ```
><h2 id='3'>3. .cli</h2>
```js
1. yarn 配置环境变量
2. 创建文件夹 mycli
3. 文件夹内创建 templates 文件夹存放模板文件
4. yarn init --yes
5. cli.js 如下:
6. yarn link 链接
7. 创建新的文件夹 mytest
8. cmd: mycli 输入项目名字
```
><h2 id='4'>4. package.json scripts</h2>
```js
  `package.json`: 简化命令
  "scripts": {
    "build": "sass scss/main.scss css/style.css --watch"
  }
```
><h2 id='5'>5. grunt</h2>
```js
1. yarn add grunt --dev
2. 入口文件: gruntfile.js 
  1. grunt.registerTask('bar', () => {})  
    // yarn grunt foo
  2. grunt.registerTask('default', ['foo', 'bar']) 
    // yarn grunt 默认执行 数组task [foo, bar]
  3. grunt.registerTask('bad', () => {
      return false //执行失败, 之后的任务不会执行
      // yarn grunt --force 会强制执行 之后的任务
    })
  4. 异步问题
    const done = this.async()
    `异步结束` done()
  5. 多目标模式，可以让任务根据配置形成多个子任务
    grunt.initConfig
  6. 删除文件
    grunt.loadNpmTasks('grunt-contrib-clean')
  7. 自动加载所有的 grunt 插件中的任务
    const loadGruntTasks = require('load-grunt-tasks')
    loadGruntTasks(grunt) // 
```
><h2 id='6'>6. gulp</h2>
1. `基本使用`
```js
1. // yarn gulp foo
  exports.foo = done => {
    console.log('foo task working~')
    done() // 标识任务执行完成
  }
2. exports.default // yarn gulp

3. const { series, parallel } = require('gulp')
  `让多个任务按照顺序依次执行`
    exports.foo = series(task1, task2, task3)
  `让多个任务同时执行`
    exports.bar = parallel(task1, task2, task3)
4. `gulp 基于流的构建系统`
  // yarn gulp stream 
  exports.stream = () => {
    const read = fs.createReadStream('package.json')
    const write = fs.createWriteStream('a.txt')
    read.pipe(write)
    return read
  }
5. `gulp api`
  // yarn gulp
  exports.default = () => {
    return src('src/*.css')
      .pipe(cleanCSS())
      .pipe(rename({ extname: '.min.css' }))
      .pipe(dest('dist'))
  }
```
2. `gulpfile.js` 配置一个工程
```js
`zce-pages` 文件下:
  cdm: yarn link
`07-link-project` 文件下: 
  cmd: yarn link "zce-pages"

`如果配置不需要gulpfile.js的工程`: 
  yarn 必须配置到 环境变量
    yarn global bin 查看yarn全局变量文件
    
`gulpfile.js`:
module.exports = {
  clean,  // 删除 temp / dist 文件
  build,  // 删除/复制/压缩/打包dist
  develop // 复制/开启服务器进行开发
}

`package.json`:
"scripts": {
  "clean": "gulp clean",
  "build": "gulp build",
  "develop": "gulp develop"
}

`npm run clean` / `yarn clean`
`npm run build` / `yarn build`
`npm run develop` / `yarn develop`
```
><h2 id='7'>7. fis</h2>
```js
1. yarn add fis3 
2. 配置 fis-conf.js
3.
  yarn add fis-parser-node-sass 
  yarn add fis-parser-babel-6.x

// 打包到output文件
yarn fis3 release -d output
// 查看转换过程
yarn fis3 inspect 

`fis 已经不更新了!`
```